# Техническое задание (ТЗ)

## Клиент для blog-service (MVP)

### 1. Цель проекта

Разработать современный SPA-клиент для сервиса blog-service, реализующий основные сценарии работы с блогом: просмотр, создание и редактирование постов, комментарии, аутентификация через OAuth, поддержка ролей и прав, базовая модерация.

---

### 2. Технологии

- React (Vite)
- TypeScript
- Redux Toolkit + RTK Query
- CSS Modules
- FSD (Feature-Sliced Design)
- React Router v6+
- ESLint

---

### 3. Архитектура

- FSD: разделение на app, pages, widgets, features, entities, shared
- Состояние: Redux Toolkit (slices по фичам)
- Стилизация: CSS Modules
- Роутинг: React Router, защищённые маршруты
- Работа с API: RTK Query

---

### 4. Основные сценарии и страницы

#### 4.1. Аутентификация

- Вход только через OAuth (GitHub, Google, VK)
- Хранение и обновление JWT токена
- Выход из системы

#### 4.2. Посты

- Главная страница — список постов с пагинацией (offset, limit)
- Страница поста — просмотр поста, комментарии, счетчик просмотров
- Создание/редактирование/удаление поста (markdown-редактор, теги, статус)
- Черновики поддерживаются
- Поиск и фильтрация по тегам
- Только verified может создавать и редактировать посты
- Гость и user могут только просматривать

#### 4.3. Комментарии

- Текстовые комментарии (без markdown)
- Нет ограничений по вложенности
- Добавление, редактирование, удаление своих комментариев

#### 4.4. Профиль пользователя

- Просмотр профиля (аватар, bio, роль, last_login)
- Редактирование только аватара и bio
- Подача заявки на верификацию (оставить контакт)

#### 4.5. Модерация

- Модератор/админ: подтверждение верификации, удаление постов/комментариев
- Метрики (просмотры) видны только модераторам, админам и авторам поста

#### 4.6. Служебные

- Страницы 404, 500
- Индикатор статуса API

---

### 5. UI/UX

- Собственный UI (без UI-китов)
- Адаптивность: desktop, tablet, mobile
- Локализация: только RU (структура для расширения)
- Темная/светлая тема, переключение языка
- Индикация загрузки, skeletons
- Уведомления об ошибках, успехе, статусах операций (toast/snackbar)

---

### 6. Работа с API

- REST API, авторизация через JWT
- Пагинация: offset, limit
- Для ролей — UI/UX для разных прав
- Для постов — поля согласно backend-модели (см. исходник)

---

### 7. Тестирование

- Минимальный набор unit-тестов (Jest, React Testing Library)
- Без сложных e2e и интеграционных тестов

---

### 8. Деплой

- Не требуется на этапе MVP

---

### 9. Роли пользователей

- Гость: просмотр постов
- User: просмотр постов, подача заявки на верификацию
- Verified: создание, редактирование, удаление своих постов и комментариев
- Moderator/Admin: подтверждение верификации, удаление постов/комментариев, просмотр метрик

---

### 10. Рекомендации

- Соблюдать FSD-структуру
- Использовать ESLint
- Документировать публичные методы и компоненты
- Покрывать основные сценарии unit-тестами

---

**Если потребуется расширение функционала — обсуждается отдельно.**
